<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Babel</title>
</head>

<body>
    <div id="root">


    </div>


    <!-- // necessary libaries  -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin></script>

    <script type="text/babel">
        // Babel compiles source code (ES6) into something that the browser can read (ES5)
    //JSX - JavaScript XML, allows us to write HTML in React, gets transforemd into JS

    const data =[
        {
            name: "Mega oats",
            ingredients: [
                {name: "oats", amount: 75, measurment: "1 gramm"},
                {name: "frozen berries", amount: 150, measurment: "1 gramm"},
                {name: "egg", amount: 2, measurment: "piece"},
                {name: "olive oil", amount: 8, measurment: "1 gramm"},
                {name: "salt", amount: 2, measurment: "pinch"},
            ],
            steps: [
            "Add the oats in the pot and add some water",
            "Put it on the oven, let it boil for 2 mins",
            "Add the eggs and salt. Stir it!",
            "Let it rest for 5 mins.",
            "Put the frozen fruit in a bowl",
            "Pour the porrige over the fruits and add the oil",
            "Enjoy!"
            ]
        },
        {
            name: "Boiled eggs",
            ingredients: [
                {name: "egg", amount: 2, measurment: "piece"},
                {name: "olive oil", amount: 8, measurment: "1 gramm"},
                {name: "salt", amount: 2, measurment: "pinch"},
            ],
            steps: [
            "Boil some water",
            "Put the eggs into the water",
            "Boil 9 mins",
            "Put it into cold water for 10 mins",
            "Peel the eggs",
            "Smash the eggs with a fork",
            "Add salt and oliv oil",
            "Enjoy!"
            ]
        },
    ]


    //each individual recipe component
function Recipe ({name, ingredients, steps}) {
    return (
        <section id={name.toLowerCase().replace(/ /g, '-')}>
            <h1>{name}</h1>
            <ul className='ingredients'>
                {ingredients.map((ingredient, i) => (
                    <li key={i}>{ingredient.name}</li>
                ))}
                </ul>
                <section className='instructions'>
                    <h2>Cooking Instructions</h2>
                    <ol>
                    {steps.map((step,i) => (
                        <li key ={i}>{step}</li>
                    ))}
                    </ol>
            </section>
            </section>
    )

}


// **Menu component, longer version
// function Menu (props) {
//     return (
//         <article>
//         <header>
//         <h1> {props.title} </h1>
//         </header>
//         <div className='recipes'> 
//         {props.recipes.map((recipe, i) => (
//             <Recipe
//             key = {i}
//             name = {recipe.name}
//             ingredients = {recipe.ingredients}
//             steps = {recipe.steps}
//             />
//         ))}
        
// // //   using the spread syntax
// {
//     props.recipes.map((recipe, i) => <Recipe key = {i} {...recipe} />)
// }

//         </div>
//         </article>
//     )
// }

// syntax improvemnt for Menu, no longer need to use props, using object destructing
function Menu({title, recipes}) {
    return(
        <article>
         <header>
         <h1> {title} </h1>
         </header>        
         <div className='recipes'> 
        {recipes.map((recipe, i) => (
            <Recipe key={i} {...recipe} />
        ))}
        </div>
        </article>
    );
}
    
    ReactDOM.render(
        <Menu recipes = {data} title = 'Delicious Recipes' />,
        document.getElementById('root')
    )

    </script>


</body>

</html>